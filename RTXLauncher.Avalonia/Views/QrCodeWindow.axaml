<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:RTXLauncher.Avalonia.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="450" d:DesignHeight="550"
        x:Class="RTXLauncher.Avalonia.Views.QrCodeWindow"
        x:DataType="vm:QrCodeViewModel"
        Title="Steam QR Login"
        Width="450" Height="550"
        MinWidth="450" MinHeight="550"
        MaxWidth="450" MaxHeight="550"
        WindowStartupLocation="CenterOwner"
        CanResize="False">

	<Design.DataContext>
		<vm:QrCodeViewModel/>
	</Design.DataContext>

	<Grid RowDefinitions="Auto,*,Auto" Margin="25">
		
		<!-- Header -->
		<StackPanel Grid.Row="0" Spacing="10" Margin="0,0,0,20">
			<TextBlock Text="Steam Mobile App Login" 
			           FontSize="18" 
			           FontWeight="SemiBold"
			           HorizontalAlignment="Center"/>
			<TextBlock Text="Scan this QR code with the Steam mobile app to log in" 
			           FontSize="12" 
			           Foreground="#888888"
			           TextWrapping="Wrap"
			           HorizontalAlignment="Center"
			           TextAlignment="Center"/>
		</StackPanel>

		<!-- QR Code Display -->
		<Border Grid.Row="1" 
		        Background="White"
		        BorderBrush="#CCCCCC"
		        BorderThickness="2"
		        CornerRadius="8"
		        Padding="20"
		        HorizontalAlignment="Center"
		        VerticalAlignment="Center">
			<Image Source="{Binding QrCodeImage}" 
			       Width="300" 
			       Height="300"
			       Stretch="Uniform"/>
		</Border>

		<!-- Instructions -->
		<StackPanel Grid.Row="2" Spacing="12" Margin="0,20,0,0">
			<Border Background="#2033A1FD" 
			        BorderBrush="#33A1FD" 
			        BorderThickness="1" 
			        CornerRadius="5" 
			        Padding="12">
				<StackPanel Spacing="8">
					<TextBlock TextWrapping="Wrap" FontSize="12">
						<Bold>Instructions:</Bold>
					</TextBlock>
					<TextBlock TextWrapping="Wrap" FontSize="11">
						1. Open the Steam mobile app
					</TextBlock>
					<TextBlock TextWrapping="Wrap" FontSize="11">
						2. Tap the menu and select "Sign in with QR code"
					</TextBlock>
					<TextBlock TextWrapping="Wrap" FontSize="11">
						3. Point your camera at the QR code above
					</TextBlock>
				</StackPanel>
			</Border>
			
			<Button Content="Cancel" 
			        Width="100"
			        HorizontalAlignment="Center"
			        Click="CancelButton_Click"/>
		</StackPanel>
	</Grid>
</Window>
